<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Permutacje GTA5 RP</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<h1>Generator permutacji – GTA5 RP</h1>
<form method="POST">
    {% for key, label in {
        'drzwi_wejscie':'1. Drzwi Wejście',
        'nad_drzwiami':'2. Nad drzwiami',
        'bar_lewo':'3. Przy barze max lewo',
        'bar_prawo':'4. Przy barze max prawo',
        'parkiet_lewo':'5. Parkiet lewo',
        'parkiet_prawo':'6. Parkiet prawo'
    }.items() %}
        <label>{{ label }}: <input type="text" name="{{ key }}" maxlength="1" value="{{ miejsca[key] }}" required></label><br>
    {% endfor %}
    <br>
    <label>Poprawna permutacja: <input type="text" name="poprawna" maxlength="6" value="{{ poprawna }}"></label><br><br>
    <button type="submit" name="zatwierdz" value="1">Zatwierdź permutację</button>
    <button type="submit" name="clear" value="1">Wyczyść</button>
</form>

{% if error %}
    <p style="color:red;">{{ error }}</p>
{% endif %}
{% if wynik %}
    <h3>Permutacje:</h3>
    <ul>
    {% for perm in wynik %}
        <li>{{ perm }}</li>
    {% endfor %}
    </ul>
{% endif %}

<h2>📜 Historia ostatnich prób:</h2>
<ul>
{% for h in historia %}
    <li>{{ h[0] }} – {{ h[1] }}, poprawna: {{ h[2] or '-' }} {% if h[3] %}✔️{% else %}❌{% endif %}</li>
{% endfor %}
</ul>
</body>
</html>
